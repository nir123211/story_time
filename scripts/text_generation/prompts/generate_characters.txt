Task:
Given a story prompt and the full story text, produce **only a fully valid JSON object** describing the story’s world, main characters, and key locations. The JSON must be **syntactically correct**, contain **all required fields**, and include **fully detailed, vivid text** for every field. Do not output explanations, markdown, or any text outside of JSON.

Requirements:

World Identity (Global Consistency):
Provide a single free-text description covering:

1. Time period / setting — historical, modern, futuristic, fantasy, etc.
2. Art style / visual style — realistic, cinematic, painterly, anime, noir, comic, etc.
3. Color palette — dominant tones appearing throughout the story.
4. Lighting style — warm, dark and moody, surreal neon, natural daylight, etc.
5. Atmospheric tone — serene, tense, eerie, hopeful, chaotic, etc.
6. Recurring props / symbols — objects or motifs appearing consistently across scenes.

Characters:
For each main character, provide a 4–6 sentence vivid description including:

* Name, age, gender
* Facial features
* Hair (color, length, texture, style)
* Eyes (color, shape, expression)
* Skin tone / complexion
* Height / stature
* Body type / build
* Posture / body language
* Distinguishing marks or features
* Clothing
* Ethnicity / cultural background (if implied)

Locations:
For each main location, provide a 4–6 sentence vivid description including:

* Name
* Physical environment (architecture, landscape, layout)
* Colors / textures
* Lighting
* Sounds
* Scents / air quality
* Atmosphere / mood
* Optional: How it connects back to the global world identity

Output Format:
The JSON must exactly follow this structure, with **all fields fully populated**:

{
"world\_identity": "A 4–6 sentence detailed description covering time period, art style, color palette, lighting, atmosphere, and recurring props",
"characters": {
"Character Name": "4–6 sentence vivid description including age, gender, facial features, hair, eyes, skin tone, height, body type, posture, distinguishing marks, clothing, ethnicity",
"Character Name": "..."
},
"locations": {
"Location Name": "4–6 sentence vivid description including physical environment, colors/textures, lighting, sounds, scents, atmosphere, relation to world identity",
"Location Name": "..."
}
}

Strict Model Instructions:

1. Output **only JSON**, with **no extra text**, markdown, or placeholders.
2. Fill **every field** with rich, vivid, detailed text.
3. Ensure **valid JSON syntax**: all quotes, commas, and braces must be correct.
4. Include **all main characters and locations** mentioned in the story, regardless of number.
5. Ensure descriptions are **sufficient for consistent visual recreation**.
6. If the story is very long, **truncate descriptions carefully to maintain JSON validity**, but still keep them vivid and complete for each character/location.
7. Always return the JSON in **one single output**, fully parseable.

